var w=(e,o,i)=>new Promise((r,u)=>{var S=a=>{try{d(i.next(a))}catch(g){u(g)}},v=a=>{try{d(i.throw(a))}catch(g){u(g)}},d=a=>a.done?r(a.value):Promise.resolve(a.value).then(S,v);d((i=i.apply(e,o)).next())});import{s as k,d as $,N as l,b as c,g as m,ac as W,h as K,aZ as Y,a_ as Z,z as q,c as n,ai as J,f as Q,a2 as X,Y as C,aC as p,t as I,aH as ee,x as te,a$ as oe}from"./index-2vi5jfnI.js";import{_ as ie}from"./user-Bh2ppOcp.js";const re=$({id:"pure-app",state:()=>{var e,o,i,r;return{sidebar:{opened:(o=(e=l().getItem(`${c()}layout`))==null?void 0:e.sidebarStatus)!=null?o:m().SidebarStatus,withoutAnimation:!1,isClickCollapse:!1},layout:(r=(i=l().getItem(`${c()}layout`))==null?void 0:i.layout)!=null?r:m().Layout,device:W()?"mobile":"desktop",viewportSize:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}},getters:{getSidebarStatus(e){return e.sidebar.opened},getDevice(e){return e.device},getViewportWidth(e){return e.viewportSize.width},getViewportHeight(e){return e.viewportSize.height}},actions:{TOGGLE_SIDEBAR(e,o){const i=l().getItem(`${c()}layout`);e&&o?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!0,i.sidebarStatus=!0):!e&&o?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!1,i.sidebarStatus=!1):!e&&!o&&(this.sidebar.withoutAnimation=!1,this.sidebar.opened=!this.sidebar.opened,this.sidebar.isClickCollapse=!this.sidebar.opened,i.sidebarStatus=this.sidebar.opened),l().setItem(`${c()}layout`,i)},toggleSideBar(e,o){return w(this,null,function*(){yield this.TOGGLE_SIDEBAR(e,o)})},toggleDevice(e){this.device=e},setLayout(e){this.layout=e},setViewportSize(e){this.viewportSize=e},setSortSwap(e){this.sortSwap=e}}});function se(){return re(k)}const ne=$({id:"pure-epTheme",state:()=>{var e,o,i,r;return{epThemeColor:(o=(e=l().getItem(`${c()}layout`))==null?void 0:e.epThemeColor)!=null?o:m().EpThemeColor,epTheme:(r=(i=l().getItem(`${c()}layout`))==null?void 0:i.theme)!=null?r:m().Theme}},getters:{getEpThemeColor(e){return e.epThemeColor},fill(e){return e.epTheme==="light"?"#409eff":"#fff"}},actions:{setEpThemeColor(e){const o=l().getItem(`${c()}layout`);this.epTheme=o==null?void 0:o.theme,this.epThemeColor=e,o&&(o.epThemeColor=e,l().setItem(`${c()}layout`,o))}}});function ae(){return ne(k)}function ue(e){return{all:e=e||new Map,on:function(o,i){var r=e.get(o);r?r.push(i):e.set(o,[i])},off:function(o,i){var r=e.get(o);r&&(i?r.splice(r.indexOf(i)>>>0,1):e.set(o,[]))},emit:function(o,i){var r=e.get(o);r&&r.slice().map(function(u){u(i)}),(r=e.get("*"))&&r.slice().map(function(u){u(o,i)})}}}const E=ue(),le="The current routing configuration is incorrect, please check the configuration";function me(){var b,T;const e=se(),o=K().options.routes,{isFullscreen:i,toggle:r}=Y(),{wholeMenus:u}=Z(q()),S=(T=(b=m())==null?void 0:b.TooltipEffect)!=null?T:"light",v=n(()=>({width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",overflow:"hidden"})),d=n(()=>{var t,s;return C((t=p())==null?void 0:t.avatar)?ie:(s=p())==null?void 0:s.avatar}),a=n(()=>{var t,s,h;return C((t=p())==null?void 0:t.nickname)?(s=p())==null?void 0:s.username:(h=p())==null?void 0:h.nickname}),g=n(()=>(t,s)=>({background:t===s?ae().epThemeColor:"",color:t===s?"#f4f4f5":"#000"})),A=n(()=>(t,s)=>t===s?"":"dark:hover:!text-primary"),D=n(()=>a.value?{marginRight:"10px"}:""),H=n(()=>!e.getSidebarStatus),L=n(()=>e.getDevice),R=n(()=>e.getDevice==="mobile"),{$storage:f,$config:x}=J(),z=n(()=>{var t;return(t=f==null?void 0:f.layout)==null?void 0:t.layout}),_=n(()=>x.Title);function B(t){const s=m().Title;s?document.title=`${I(t.title)} | ${s}`:document.title=I(t.title)}function M(){p().logOut()}function P(){var t;ee.push((t=te())==null?void 0:t.path)}function F(){E.emit("openPanel")}function G(){e.toggleSideBar()}function N(t){t==null||t.handleResize()}function O(t){var y;if(!t.children)return console.error(le);const s=/^http(s?):\/\//,h=(y=t.children[0])==null?void 0:y.path;return s.test(h)?t.path+"/"+h:h}function V(t){u.value.length===0||j(t)||E.emit("changLayoutRoute",t)}function j(t){return oe.includes(t)}function U(){return new URL("/admin/logo.svg",import.meta.url).href}return{title:_,device:L,isMobile:R,layout:z,logout:M,routers:o,$storage:f,isFullscreen:i,Fullscreen:Q,ExitFullscreen:X,toggle:r,backTopMenu:P,onPanel:F,getDivStyle:v,changeTitle:B,toggleSideBar:G,menuSelect:V,handleResize:N,resolvePath:O,getLogo:U,isCollapse:H,pureApp:e,username:a,userAvatar:d,avatarsStyle:D,tooltipEffect:S,getDropdownItemStyle:g,getDropdownItemClass:A}}export{me as a,se as b,E as e,ae as u};
